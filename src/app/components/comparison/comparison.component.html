<div>
  <div class="loading-box" *ngIf="loading">
    <app-loading></app-loading>
  </div>
  <div *ngIf="!loading">
    <div class="row no-gutters" *ngIf="comparisonList.length !== 0">
      <app-filters class="col-lg-12"
                   [filters]="filters"
                   [active]="filterSelected"
                   (filterSelected)="onFilterSelected($event)"></app-filters>
      <button class="h-btn btn-default" (click)="showGraph = !showGraph">{{ showGraph ? 'TRANSLATE.COMPARISON.HIDE_GRAPH' : 'TRANSLATE.COMPARISON.SHOW_GRAPH' | translate}}</button>
    </div>
    <div class="row no-gutters" *ngIf="comparisonList.length !== 0">
      <div class="col-lg-6">
        <app-comparison-graph-component class="col-lg-12"
                                  *ngIf="graph && showGraph"
                                  [secondLine]="false"
                                  [canvasId]="'canvas1'"
                                  [chartSetData]="graph"
                                  [interactive]="true"></app-comparison-graph-component>
      </div>
      <div class="col-lg-12">
        <app-comparison-table
          [headers]="tables[filterSelected]" [filterSelected]="filterSelected"
          [modelList]="comparison$ | async"
          (deleteFromComparison)="onDeleteFromComparison($event)" (clearAll)="clearAllConfirm()"></app-comparison-table>
      </div>
    </div>
    <div class="row no-gutters" *ngIf="comparisonList.length === 0">
      <h1>{{ 'TRANSLATE.COMPARISON.NO_FANS' | translate }}</h1>
    </div>
  </div>
</div>

<app-modal #myModal>
  <h2>{{ 'TRANSLATE.COMPARISON.CONFIRM_DELETE' | translate }}</h2>
  <div class="delete-modal-buttons">
    <button class="h-btn btn-default" (click)="clearAll()">Delete</button>
    <button class="h-btn" (click)="cancel()">Cancel</button>
  </div>
</app-modal>
